ALTER TABLE vehicles CHANGE ladder_maker_id fabrication_vendor_id INT NULL; 
ALTER TABLE vehicles ADD COLUMN induction_date DATE NOT NULL AFTER next_inspection_date; 
ALTER TABLE drivers CHANGE eobi_no eobi_no VARCHAR(20) CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci NULL, CHANGE eobi_start_date eobi_start_date DATE NULL; 

ALTER TABLE drivers CHANGE vehicle_id vehicle_id INT NULL; 

ALTER TABLE vehicles ADD COLUMN shift_hour_id INT(10)  NULL AFTER ownership;
ALTER TABLE drivers ADD COLUMN shift_timing_id INT(11) NULL AFTER vehicle_id; 


ALTER TABLE vehicles ADD COLUMN kilometer INT DEFAULT 0 NOT NULL AFTER tax_file; 


DROP TABLE IF EXISTS daily_fuel_reports;

CREATE TABLE daily_fuel_reports (
  id bigint unsigned NOT NULL AUTO_INCREMENT,
  vehicle_id int NOT NULL,
  report_date date NOT NULL,
  previous_km bigint NOT NULL,
  current_km bigint NOT NULL,
  mileage bigint NOT NULL,
  fuel_taken float NOT NULL,
  fuel_average float NOT NULL,
  is_active int NOT NULL DEFAULT '1' COMMENT '0=inactive, 1=active',
  created_at timestamp NULL DEFAULT NULL,
  updated_at timestamp NULL DEFAULT NULL,
  PRIMARY KEY (id)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS driver_attendance_status;

CREATE TABLE driver_attendance_status (
  id int NOT NULL AUTO_INCREMENT,
  name varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  is_active int DEFAULT '1' COMMENT '0=inactive, 1=active',
  created_at timestamp NULL DEFAULT NULL,
  updated_at timestamp NULL DEFAULT NULL,
  PRIMARY KEY (id)
) ENGINE=MyISAM AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

/*Data for the table driver_attendance_status */

insert  into driver_attendance_status(id,name,is_active,created_at,updated_at) values 
(1,'Present',1,'2025-10-08 14:54:07','2025-10-08 14:54:07'),
(2,'Absent',1,'2025-10-08 14:54:07','2025-10-08 14:54:07'),
(3,'Leave',1,'2025-10-08 14:54:07','2025-10-08 14:54:07');


DROP TABLE IF EXISTS drivers_attendances;

CREATE TABLE drivers_attendances (
  id bigint unsigned NOT NULL AUTO_INCREMENT,
  driver_id bigint NOT NULL,
  date date NOT NULL,
  status tinyint(1) DEFAULT '1' COMMENT '1=present, 2=absent, 3=leave',
  is_active tinyint(1) DEFAULT '1' COMMENT '0=inactive, 1=active',
  created_at timestamp NULL DEFAULT NULL,
  updated_at timestamp NULL DEFAULT NULL,
  PRIMARY KEY (id)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

RENAME TABLE driver_attendance_status TO attendance_status; 


DROP TABLE IF EXISTS vehicles_attendances;

CREATE TABLE vehicles_attendances (
  id bigint unsigned NOT NULL AUTO_INCREMENT,
  vehicle_id bigint NOT NULL,
  date date NOT NULL,
  status tinyint(1) DEFAULT '1' COMMENT '1=present, 2=absent',
  is_active tinyint(1) DEFAULT '1' COMMENT '0=inactive, 1=active',
  created_at timestamp NULL DEFAULT NULL,
  updated_at timestamp NULL DEFAULT NULL,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;